# 功能需求（Functional Requirements）

## User Story 1：學習正確的飼養知識

---

### FR-01 建立蜜袋鼯角色

**功能說明**  
系統於遊戲開始時，自動生成一隻蜜袋鼯虛擬角色，並初始化所有基礎屬性。角色作為系統核心物件，後續所有行為、事件與數值變化皆依附於此角色進行。

**角色屬性定義**
- 飢餓度（Hunger）：0–100（0 = 極度飢餓，100 = 完全飽足）
- 清潔度（Cleanliness）：0–100（0 = 極度骯髒，100 = 完全清潔）
- 快樂度（Happiness）：0–100（0 = 憂鬱，100 = 非常快樂）
- 健康值（Health）：0–100（0 = 死亡，100 = 健康）
- 年齡（Age）：整數（單位：年）
- 生命階段（Life Stage）：幼年 / 青年 / 成年 / 老年

**初始屬性設定**
- 飢餓度：70
- 清潔度：80
- 快樂度：75
- 健康值：100
- 年齡：0
- 生命階段：幼年

**輸入**
- 玩家點擊「開始遊戲」

**輸出**
- 角色物件建立
- 屬性顯示於介面

**驗證方式**
- 遊戲開始後，所有屬性值皆符合預設範圍與初始設定

---

### FR-02 餵食功能

**功能說明**  
玩家可選擇不同種類的食物餵食蜜袋鼯，系統依據食物類型調整角色狀態，並引導玩家學習正確飲食觀念。

**食物分類**
- 正確食物（專用飼料、水果）
- 不適合食物（高糖、人類零食）
- 禁忌食物（對蜜袋鼯有害）

**輸入**
- 玩家選擇食物並點擊餵食

**輸出**
- 飢餓度、快樂度、健康值變化
- 角色進食動畫
- 系統提示訊息

**規則定義**
- 正確食物：  
  - 飢餓度 +20  
  - 快樂度 +10  
  - 健康值 +5  
- 不適合食物：  
  - 飢餓度 +10  
  - 健康值 −10  
- 禁忌食物：  
  - 健康值 −30  
  - 顯示警告提示

**附加限制**
- 飢餓度達 100 時不可繼續餵食
- 過度餵食會觸發「肥胖風險」紀錄

**驗證方式**
- 不同食物導致不同屬性變化
- 錯誤食物會產生警告與負面影響

---

### FR-03 清潔籠子

**功能說明**  
系統模擬居住環境的清潔狀況，玩家需定期清理籠子以維持角色健康。

**輸入**
- 玩家點擊「清潔籠子」

**輸出**
- 清潔度提升
- 髒亂視覺效果消失
- 健康風險降低

**規則定義**
- 每次清潔：清潔度 +30（上限 100）
- 每日未清潔：清潔度 −10
- 連續 3 天未清潔：  
  - 健康值每日 −5  
  - 顯示不適動畫

**驗證方式**
- 清潔後清潔度明顯提升
- 長期未清潔會影響健康值

---

### FR-04 互動功能

**功能說明**  
透過互動行為建立玩家與角色之間的情感連結。

**互動方式**
- 撫摸
- 玩耍
- 聲音互動（文字模擬）

**輸入**
- 玩家選擇互動行為

**輸出**
- 快樂度變化
- 親密度（Bonding）變化
- 動畫與音效回饋

**規則定義**
- 每日互動：快樂度 +10、親密度 +5
- 連續 3 天未互動：親密度 −10

**驗證方式**
- 有互動與無互動狀態差異明顯

---

## User Story 2：建立責任感

---

### FR-05 成長日誌系統

**功能說明**  
系統每日自動記錄玩家的照顧行為與角色狀態，形成可回顧的成長紀錄。

**記錄內容**
- 日期
- 餵食次數與狀態
- 清潔狀態
- 互動次數
- 健康評語（良好 / 警告 / 危險）

**輸入**
- 遊戲跨日事件

**輸出**
- 新增一筆日誌紀錄

**驗證方式**
- 日誌內容與實際行為一致

---

### FR-06 健康值系統

**功能說明**  
健康值為角色生存與否的核心指標，整合所有玩家行為影響。

**影響因素**
- 飲食正確性
- 清潔頻率
- 互動頻率
- 年齡階段

**狀態門檻**
- 健康值 < 40：容易生病
- 健康值 < 20：高死亡風險

**驗證方式**
- 健康值隨照顧品質變動

## User Story 3：理解壽命與長期投入

---

### FR-07 壽命／年齡系統

**功能說明**  
角色會隨遊戲時間推進而自然成長，年齡變化將影響其需求類型、數值消耗速度與可觸發事件，使玩家必須因應不同生命階段調整照顧策略。

**生命階段定義**
- 幼年（0–2 歲）：需求頻繁，容錯率低
- 青年（3–5 歲）：成長穩定，互動回饋最佳
- 成年（6–8 歲）：狀態平衡，但開始出現隱性風險
- 老年（9 歲以上）：健康衰退明顯，需高成本照護

**系統規則**
- 年齡為整數，每遊戲日自動 +1
- 年齡不可回溯或重置
- 年齡階段切換時即時影響角色參數

**影響項目**
- 健康衰退速率
- 醫療事件觸發機率
- 互動成功率與回饋強度

**驗證方式**
- 遊戲日推進後年齡正確增加
- 年齡達門檻時生命階段自動切換
- 不同年齡階段數值行為明顯不同

---

### FR-08 生命週期機制

**功能說明**  
系統完整模擬蜜袋鼯的一生歷程，不同生命階段在行為模式、需求強度與風險機制上皆存在差異，強化長期經營與策略調整的重要性。

**生命週期差異**
- 幼年期：進食與照護需求高，忽略懲罰重
- 青年期：互動回饋明顯，培養依賴度最佳時期
- 成年期：需求趨於穩定，但開始出現隨機事件
- 老年期：健康下降加速，事件處理失誤後果嚴重

**系統規則**
- 每一生命階段套用不同參數組
- 階段轉換後立即生效，不需重新載入

**驗證方式**
- 相同行為在不同生命階段造成不同結果
- 各階段數值消耗速率明顯不同

---

### FR-09 長期照顧需求

**功能說明**  
角色年齡越高，其自然健康衰退越快，且對疏忽行為的容忍度降低，強調玩家在後期需投入更多資源與決策成本。

**規則定義**
- 成年期：健康自然下降 0–1 / 天
- 老年期：健康自然下降 2–4 / 天
- 若連續未互動，下降值額外 +1

**影響因素**
- 是否每日互動
- 是否定期醫療
- 是否維持基本資源供應

**驗證方式**
- 相同操作下，老年角色健康下降速度明顯較快
- 長期忽略導致健康快速崩壞

---

### FR-10 壽命縮放系統

**功能說明**  
系統透過時間縮放機制，讓玩家在有限遊戲時間內體驗完整生命歷程，同時保有長期決策的重量感。

**規則**
- 遊戲內 1 天 = 角色 1 年
- 所有年齡相關計算皆以遊戲日為基準

**設計目的**
- 避免遊戲節奏過慢
- 確保完整生命體驗可於單一存檔中完成

**驗證方式**
- 遊戲日數與角色年齡完全同步
- 各生命事件觸發時間符合年齡設定

---

### FR-11 紀念機制

**功能說明**  
角色死亡後，系統自動生成回顧頁面，整理整段飼養歷程，引導玩家反思決策與照顧行為，將失敗轉化為學習體驗。

**回顧內容**
- 總存活天數
- 各生命階段停留時間
- 平均健康值
- 死亡原因
- 重大事件紀錄

**系統規則**
- 每次遊戲僅生成一次紀念頁面
- 資料不可修改

**驗證方式**
- 不同死亡原因顯示對應說明
- 回顧數據與實際遊戲紀錄一致

---

## User Story 4：模擬飼養成本

---

### FR-12 支出記錄系統

**功能說明**  
系統完整記錄所有與飼養相關的支出項目，讓玩家清楚理解長期照護所需的經濟成本。

**記錄項目**
- 食物購買
- 醫療費用
- 特殊事件支出

**系統規則**
- 所有支出即時扣款
- 支出紀錄不可刪除

**驗證方式**
- 支出紀錄總和與餘額變化一致
- 不同項目正確分類顯示

---

### FR-13 消耗品機制

**功能說明**  
遊戲中所有照護相關物品皆為有限資源，數量不足時將直接影響角色狀態與可執行行為。

**規則**
- 物品數量為整數
- 庫存低於 20% 時顯示警示提示
- 物品耗盡時相關功能鎖定

**影響項目**
- 食物不足 → 健康下降
- 醫療品不足 → 無法處理事件

**驗證方式**
- 物品為 0 時操作被禁止
- 庫存警示正常觸發

---

### FR-14 醫療事件

**功能說明**  
當角色健康過低或長期疏忽照顧時，系統隨機觸發醫療事件，要求玩家即時處理以避免惡化。

**觸發條件**
- 健康值低於 30
- 連續多日未互動
- 老年期事件機率提高

**處理結果**
- 成功處理：健康值回復
- 忽略或失敗：健康持續下降

**驗證方式**
- 醫療後健康值正確變化
- 未處理事件會造成連鎖影響

---

## User Story 5：情感連結與互動

---

### FR-15 互動模組

**功能說明**  
玩家可透過日常互動建立角色依賴與情感連結，影響角色行為穩定度與事件反應。

**互動類型**
- 撫摸
- 餵食
- 陪伴

**系統規則**
- 每日互動次數有限
- 長期互動累積依賴度

**驗證方式**
- 依賴度隨互動次數提升
- 高依賴度降低負面事件機率

---

### FR-16 AI 回應

**功能說明**  
角色會依據當前狀態與玩家行為，呈現不同表情、動畫與音效回饋，提升情感真實感。

**回應依據**
- 健康值高低
- 依賴度
- 是否被忽略

**驗證方式**
- 正向行為觸發正向回饋
- 負向行為觸發明顯差異反應

---

## User Story 6：飼養失敗的反饋

---

### FR-17 死亡機制

**功能說明**  
當角色因長期疏忽、健康耗盡或事件處理失敗時，系統觸發死亡事件，並引導玩家理解失敗原因。

**死亡條件**
- 健康值 ≤ 0
- 連續 7 天未餵食
- 醫療事件未處理超過指定天數

**系統輸出**
- 專屬死亡畫面
- 明確失敗原因提示
- 自動進入紀念機制（FR-11）

**驗證方式**
- 不同疏忽行為導致不同死亡說明
- 死亡後所有操作鎖定
